Traceback (most recent call last):
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/codespace/.local/lib/python3.10/site-packages/nbclient/client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/codespace/.local/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
  File "/usr/local/python/3.10.13/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/codespace/.local/lib/python3.10/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/home/codespace/.local/lib/python3.10/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/codespace/.local/lib/python3.10/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import matplotlib.pyplot as plt
from matplotlib.font_manager import FontProperties


TITLE_FONT = FontProperties(family="Arial", size=16, weight="semibold")
AXIS_FONT = FontProperties(family="Arial", size=14)
LASALLE_BLUE = "#00245D"

# Get feature names
feature_names = [" ".join(name.split(" ")[:-1])
                 for name in iris['feature_names']]
p = vt.shape[0]
pc_labels = ["PC %s" % (i+1) for i in range(p)]

# Calculate proportion of variance explained
eig_val = sigma**2 / (X_.shape[0]-1)
ve = eig_val / eig_val.sum()

plt.figure(figsize=(20, 10), dpi=200)

# Plot proportion of total variance explained
plt.subplot(1, 2, 1)
plt.plot(range(p), ve, 'o-', c=LASALLE_BLUE)
plt.title("Proportion of Total Variance Explained (Centered)", fontproperties=TITLE_FONT)
plt.xticks(range(p), pc_labels, fontproperties=AXIS_FONT)
plt.ylim(0, 1)

# Plot factor loadings
plt.subplot(1, 2, 2)
plt.matshow(vt*np.sqrt(eig_val), cmap="coolwarm", fignum=False)
plt.title("Factor Loadings (Centered)", fontproperties=TITLE_FONT)
plt.yticks(range(p), pc_labels, fontproperties=AXIS_FONT)
plt.xticks(range(p), feature_names, fontproperties=AXIS_FONT)
plt.tick_params(axis='both', length=0.5, direction='out')
for (i, j), z in np.ndenumerate(vt*np.sqrt(eig_val)):
    plt.text(j, i, '{:0.2f}'.format(z), ha='center', va='center',
             fontproperties=AXIS_FONT)
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mNameError[0m                                 Traceback (most recent call last)
Cell [0;32mIn[4], line 11[0m
[1;32m      7[0m LASALLE_BLUE [38;5;241m=[39m [38;5;124m"[39m[38;5;124m#00245D[39m[38;5;124m"[39m
[1;32m      9[0m [38;5;66;03m# Get feature names[39;00m
[1;32m     10[0m feature_names [38;5;241m=[39m [[38;5;124m"[39m[38;5;124m [39m[38;5;124m"[39m[38;5;241m.[39mjoin(name[38;5;241m.[39msplit([38;5;124m"[39m[38;5;124m [39m[38;5;124m"[39m)[:[38;5;241m-[39m[38;5;241m1[39m])
[0;32m---> 11[0m                  [38;5;28;01mfor[39;00m name [38;5;129;01min[39;00m [43miris[49m[[38;5;124m'[39m[38;5;124mfeature_names[39m[38;5;124m'[39m]]
[1;32m     12[0m p [38;5;241m=[39m vt[38;5;241m.[39mshape[[38;5;241m0[39m]
[1;32m     13[0m pc_labels [38;5;241m=[39m [[38;5;124m"[39m[38;5;124mPC [39m[38;5;132;01m%s[39;00m[38;5;124m"[39m [38;5;241m%[39m (i[38;5;241m+[39m[38;5;241m1[39m) [38;5;28;01mfor[39;00m i [38;5;129;01min[39;00m [38;5;28mrange[39m(p)]

[0;31mNameError[0m: name 'iris' is not defined

